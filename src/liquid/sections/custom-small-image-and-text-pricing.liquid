{%- if section.settings.enable -%}

  {%- assign desktop_items_per_row = section.settings.grid_desktop_items_per_row | times: 1 -%}
  {%- assign mobile_items_per_row  = section.settings.grid_mobile_items_per_row | times: 1 -%}

  {%- if desktop_items_per_row == 4 -%}
  {%- assign tablet_items_per_row = 2 -%}
  {%- else -%}
  {%- assign tablet_items_per_row = 2 -%}
  {%- endif -%}

 <div class="custom-small-image-text section-content" data-section-id="{{ section.id }}" style="background-color:{% if section.settings.bg_color %} {{section.settings.bg_color}} {% endif %}">
	<div class="container">

      {%- if section.settings.heading != blank -%}
        <div class="section_heading">
          <h2 style="color: {{ section.settings.main_heading_color }};">{{section.settings.heading}}</h2>
        </div>
      {%- endif -%}

      <div class="grid-cover">
        <div class="Grid">
          <div class="pricing-card-overlay">

          </div>
          {% include 'pricing-card', feature_name: 'pro-monitoring' %}
          {% include 'pricing-card', feature_name: 'insurance-discount' %}
          {% include 'pricing-card', feature_name: 'kangaroo-coverage' %}

        {%- for block in section.blocks -%}
          	{%- assign block_image = block.settings.block_image -%}
        	<div class="Grid__Cell 1/{{ mobile_items_per_row }}--phone 1/{{ tablet_items_per_row }}--tablet-and-up 1/{{ desktop_items_per_row }}--desk common-sec mobile-order--{{ block.settings.mobile_order }}">

              {%- if block.settings.svg_html != blank -%}
                <div class="svg_container">
                  {{ block.settings.svg_html }}
                </div>
              {%- endif -%}

          		<div class="block_card {% if block.settings.no_shadow %}block_card-no-shadow{% endif %}" style="background-color:{% if block.settings.card_color %} {{block.settings.card_color}} {% endif %}">

                {%- if block.settings.top_banner_active -%}
                <div class="left_banner_holder">
                  <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M20 20.8L-1.14441e-05 20.8L10.4 10.4L-1.14441e-05 4.95911e-05L20 4.95911e-05L20 20.8Z" fill="#C65242"/>
                  </svg>
                </div>

                <div class="mobile-only-shield-star">
                  <svg width="21" height="30" viewBox="0 0 21 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.6745 0.443115L21 4.40386V5.82421V6.79761V15.2979C21 25.5962 10.6745 29.557 10.6745 29.557C10.6745 29.557 0.349064 25.5962 0.349064 15.2979V6.79761V5.82421V4.40386L10.6745 0.443115Z" fill="#5A91FE"/>
                    <path d="M10.6529 17.0852L13.4643 18.6393L12.9274 15.3476L15.2019 13.0164L12.0586 12.5362L10.6529 9.54126L9.24713 12.5362L6.10382 13.0164L8.37834 15.3476L7.8414 18.6393L10.6529 17.0852Z" fill="#FFF166" stroke="#FFF166" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>




                <div class="top_banner">
                  BEST VALUE
                </div>

                <div class="right_banner_holder">
                  <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M0 0H20.8L10.4 10.4L20.8 20.8H0V0Z" fill="#C65242"/>
                  </svg>
                </div>
                {%- endif -%}




                <div class="heading-section">
                  {%- if block.settings.top_heading != blank -%}
                  <h2 class="SectionHeader__Heading SectionHeader__Heading--emphasize Heading u-h1 hero-text">{{ block.settings.top_heading | escape }}</h2>
                  {%- endif -%}

                  {%- if block.settings.top_subheading_html != blank -%}
                  <div class="SectionHeader__SubHeading Heading u-h6">{{ block.settings.top_subheading_html }}</div>
                  {%- endif -%}

                </div>
                <hr class="pricing-card-divider">

              {%- if block_image.src != blank -%}
                <div class="block_image">
                  <img class="custom_block_image Image--lazyLoad"
                       src="{{ block_image | img_url: '1x1' }}"
                       data-src="{{ block_image | img_url: 'x800' }}"
                       alt="{{ block_image.alt | escape }}">

                  <noscript>
                    <img class="Slideshow__Image" src="{{ block_image | img_url: 'x800' }}" alt="{{ block_image.alt | escape }}">
                  </noscript>
                </div>
              {%- else -%}

            {%- endif -%}

              {%- if block.settings.block_heading != blank -%}
              	<h2 class="SectionHeader__SubHeading Banner_Heading u-h6" style="color: {{ block.settings.heading_color }};">{{ block.settings.block_heading | escape }}</h2>
              {%- endif -%}
              {%- if block.settings.block_content != blank -%}
              	<div class="SectionHeader__content Banner_content u-h6" style="color: {{ block.settings.content_color }};">
									{{ block.settings.block_content }}
								</div>
              {%- endif -%}
              {%- if block.settings.block_text_url != blank -%}
              	<a href="{{ block.settings.block_text_url }}" class="ButtonGroup__Item Button" style="color: {{ block.settings.link_color }}; background-color: {{ block.settings.link_background_color }}">{{ block.settings.block_text | escape }}</a>
              {%- endif -%}


              <div class="membership-info-toggle-button">
                <div class="learn-more-button active-button">
                  <p>Learn More</p>
                  <svg width="20" height="11" viewBox="0 0 20 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 1L10 10L19 1" stroke="#5A91FE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
                <div class="hide-learn-more-button">
                  <svg width="20" height="11" viewBox="0 0 20 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 10L10 0.999999L1 10" stroke="#5A91FE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
              </div>
          	</div>
        	</div>
          {%- endfor -%}
      </div>
      </div>

    </div>
  </div>
{%- endif -%}

{% schema %}
  {
    "name": "Small Cards (Pricing)",
	"class": "membership-page-section-small-cards pricing-page-section-small-cards",
    "settings": [
		{
          "type": "checkbox",
          "id": "enable",
          "label": "Enabled Section?"
        },
		{
			"type": "text",
			"id": "heading",
			"label": "Heading"
		},
		{
			"type": "color",
			"id": "main_heading_color",
			"label": "Select Main Heading Color"
		},
        {
          "type": "range",
          "min": 2,
          "max": 4,
          "id": "grid_desktop_items_per_row",
          "label": "Products per row (desktop)",
          "default": 4
        },
        {
          "type": "select",
          "id": "grid_mobile_items_per_row",
          "label": "Products per row (mobile)",
          "options": [
            {
              "value": "1",
              "label": "1"
            },
            {
              "value": "2",
              "label": "2"
            }
          ],
          "default": "2"
        },
        {
          "type": "color",
          "id": "bg_color",
          "label": "Select Background Color"
        }
	],
	"blocks":[
		{
			"type": "block-content",
			"name": "Image with Text",
			"settings":[
        {
          "type": "checkbox",
          "id": "top_banner_active",
          "label": "Activate top banner"
        },
        {
          "type": "color",
          "id": "card_color",
          "label": "Select Card Color"
        },
        {
          "type": "html",
          "id": "svg_html",
          "label": "Top SVG block"
        },
        {
          "type": "text",
          "id": "top_heading",
          "label": "Heading"
        },
        {
					"type": "html",
					"id": "top_subheading_html",
					"label": "Subheading HTML"
				},
				{
					"type": "image_picker",
					"id": "block_image",
					"label": "Image"
				},
				{
					"type": "text",
					"id": "block_heading",
					"label": "Heading"
				},
				{
					"type": "color",
					"id": "heading_color",
					"label": "Select Heading Color"
				},
				{
					"type": "html",
					"id": "block_content",
					"label": "Content"
				},
				{
					"type": "color",
					"id": "content_color",
					"label": "Select Content Color"
				},
				{
					"type": "text",
					"id": "block_text",
					"label": "Button title"
				},
				{
					"type": "url",
					"id": "block_text_url",
					"label": "Button URL"
				},
				{
					"type": "color",
					"id": "link_color",
					"label": "Select Button Text Color"
				},
        {
					"type": "color",
					"id": "link_background_color",
					"label": "Select Button Background Color"
				},
				{
					"type": "checkbox",
					"id": "no_shadow",
					"label": "Remove Shadow"
				},
        {
          "type": "range",
          "id": "mobile_order",
          "min": 1,
          "max": 3,
          "step": 1,
          "label": "Mobile Order",
          "default": 1
        }
			]
		}
	]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
