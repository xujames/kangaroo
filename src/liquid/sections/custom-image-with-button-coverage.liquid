{%- if section.settings.enable -%}

 <div class="custom-content-with-button" data-section-id="{{ section.id }}" style="background-color:{% if section.settings.bg_color %} {{section.settings.bg_color}} {% endif %}">
	{% comment %}<div class="container">
      <div class="Grid image_grid">
        <div class="Grid__Cell 1/1--phone 1/3--tablet-and-up 1/3--desk">
            {%- assign image = section.settings.image -%}
            {%- if image -%}
              <div class="block_image">
                <img class="custom_block_image Image--lazyLoad"
                     src="{{ image | img_url: '1x1' }}"
                     data-src="{{ image | img_url: 'x800' }}"
                     alt="{{ image.alt | escape }}">

                <noscript>
                  <img class="Slideshow__Image" src="{{ image | img_url: 'x800' }}" alt="{{ image.alt | escape }}">
                </noscript>
              </div>
            {%- endif -%}
        </div>
        <div class="Grid__Cell 1/1--phone 2/3--tablet-and-up 2/3--desk">
          <div class="section_content">
            {%- if section.settings.heading != blank -%}
                <h2>{{section.settings.heading}}</h2>
            {%- endif -%}
            {%- if section.settings.content != blank -%}
                <p>{{section.settings.content}}</p>
            {%- endif -%}
            {%- if section.settings.button_text_url != blank -%}
                <a href="{{ section.settings.button_text_url }}" class="ButtonGroup__Item Button" style="background-color:{% if section.settings.button_color %} {{section.settings.button_color}} {% endif %}">{{ section.settings.button_text | escape }}</a>
            {%- endif -%}
          </div>
        </div>
      </div>

    </div> {% endcomment %}

    <div class="header-banner">
    {%- assign mobile_image = section.settings.mobile_image | default: section.settings.image -%}

    {%- if mobile_image -%}
      <div class="Slideshow__ImageContainer hidden-tablet-and-up"
           style="background-image: url({{ mobile_image | img_url: '1x1', format: 'jpg' }})">
        <img class="Slideshow__Image Image--lazyLoad"
             src="{{ mobile_image | img_url: '1x1' }}"
             data-src="{{ mobile_image | img_url: 'x800' }}"
             alt="{{ mobile_image.alt | escape }}">

        <noscript>
          <img class="Slideshow__Image" src="{{ mobile_image | img_url: 'x800' }}" alt="{{ mobile_image.alt | escape }}">
        </noscript>
      </div>
      {%- else -%}
      <div class="Slideshow__ImageContainer hidden-tablet-and-up">
        {{ 'lifestyle-1' | placeholder_svg_tag: 'PlaceholderBackground__Svg' }}
      </div>
    {%- endif -%}

    {%- if section.settings.image -%}
      <div class="Slideshow__ImageContainer hidden-phone"
           style="background-image: url({{ section.settings.image | img_url: '1x1', format: 'jpg' }})">
        {% assign image_url = section.settings.image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}

        <img class="Slideshow__Image Image--lazyLoad hide-no-js"
             data-src="{{ image_url }}"
             data-optimumx="1.2"
             data-widths="[400, 600, 800, 1000, 1200, 1400, 1600, 1800]"
             data-sizes="auto"
             alt="{{ section.settings.image.alt | escape }}">

        <noscript>
          <img class="Slideshow__Image" src="{{ section.settings.image | img_url: '1000x' }}" alt="{{ section.settings.image.alt | escape }}">
        </noscript>
      </div>
      {%- else -%}
      <div class="Slideshow__ImageContainer hidden-phone">
        {{ 'lifestyle-1' | placeholder_svg_tag: 'PlaceholderBackground__Svg' }}
      </div>
    {%- endif -%}

    <div class="container content-with-button__container" style="text-align: {{ section.settings.content_position }}">
      <div class="content-with-button__Content content-with-button__Content--{{ section.settings.content_position }}" style="text-align: {{ section.settings.text_align }}">
        {%- if section.settings.heading != blank -%}
        	<h2 class="SectionHeader__SubHeading Banner_Heading u-h6" style="color: {{ section.settings.heading_color }}">{{ section.settings.heading | escape }}</h2>
        {%- endif -%}
        {%- if section.settings.content != blank -%}
        	<p class="SectionHeader__content Banner_content u-h6" style="color: {{ section.settings.content_color }}">{{ section.settings.content | escape }}</p>
        {%- endif -%}
      	{%- if section.settings.button_text_url != blank -%}
        	<a href="{{ section.settings.button_text_url }}" class="ButtonGroup__Item Button" style="color: {{ section.settings.button_text_color }}; background-color:{% if section.settings.button_background_color %} {{section.settings.button_background_color}} {% endif %}">{{ section.settings.button_text | escape }}</a>
        {%- endif -%}
    </div>
    </div>
  </div>

  </div>
{%- endif -%}
{% schema %}
  {
    "name": "Custom Image with Button",
	  "class": "custom-image-with-button",
    "settings": [
		{
          "type": "checkbox",
          "id": "enable",
          "label": "Enabled Section?"
        },
		{
			"type": "image_picker",
			"id": "image",
			"label": "Select Image"
		},
        {
          "type": "image_picker",
          "id": "mobile_image",
          "label": "Mobile image",
          "info": "750 x 1100px jpg recommended. If none is set, desktop image will be cropped."
        },
		{
			"type": "text",
			"id": "heading",
			"label": "Heading"
		},
    {
      "type": "color",
      "id": "heading_color",
      "label": "Select Heading Color"
    },
		{
			"type": "textarea",
			"id": "content",
			"label": "Content"
		},
    {
      "type": "color",
      "id": "content_color",
      "label": "Select Content Color"
    },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Title"
        },
        {
          "type": "url",
          "id": "button_text_url",
          "label": "Button URL"
        },
        {
          "type": "header",
          "content": "Color"
        },
        {
          "type": "color",
          "id": "button_text_color",
          "label": "Select Button Text Color"
        },
        {
          "type": "color",
          "id": "button_background_color",
          "label": "Select Button Background Color",
          "default": "#444141"
        },
        {
          "type": "color",
          "id": "bg_color",
          "label": "Select Section Background Color"
        },
        {
          "type": "select",
          "id": "content_position",
          "label": "Content position",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "left"
        },
        {
          "type": "select",
          "id": "text_align",
          "label": "Text Alignment",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ]
        }
	   ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
